<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HeartLink ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É—Ç–∏–∑–º–∞</title>
<meta name="description" content="HeartLink ‚Äî –ø—Ä–æ—Ç–æ—Ç–∏–ø —à–∫–æ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞: —á–µ–∫–µ—Ä —Å–∏–º–ø—Ç–æ–º–æ–≤, —Å–æ–≤–µ—Ç–Ω–∏–∫, –¥–Ω–µ–≤–Ω–∏–∫ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.">
<style>
  :root{
    --bg:#f6f8ff; --card:#ffffff; --text:#0f172a; --muted:#6b7280;
    --accent:#3b82f6; --accent-2:#2563eb; --good:#10b981; --warn:#f59e0b; --bad:#ef4444;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg)}
  header{position:sticky;top:0;background:linear-gradient(90deg,#e9efff,#f6f8ff);border-bottom:1px solid #e5e7eb;z-index:10}
  .bar{max-width:1000px;margin:0 auto;padding:14px 16px;display:flex;align-items:center;gap:10px}
  .logo{display:inline-flex;align-items:center;gap:8px;font-weight:800}
  .logo .dot{width:10px;height:10px;border-radius:50%;background:var(--accent)}
  .badge{font-size:12px;color:#334155;background:#e2e8f0;border:1px solid #cbd5e1;padding:4px 8px;border-radius:999px}
  main{max-width:1000px;margin:0 auto;padding:16px}
  .tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
  .tab{flex:1;min-width:140px;text-align:center;background:#edf2ff;border:1px solid #dbe4ff;color:#1e293b;padding:10px;border-radius:12px;cursor:pointer;font-weight:700}
  .tab.active{background:#e0ecff;color:#1d4ed8}
  .card{background:var(--card);border:1px solid #e5e7eb;border-radius:14px;padding:16px;box-shadow:0 2px 10px rgba(0,0,0,.04);margin-bottom:12px}
  h2{margin:6px 0 12px 0;font-size:20px}
  h3{margin:10px 0 6px 0;font-size:16px;color:#1f2937}
  p{color:#334155}
  .grid{display:grid;gap:12px}
  @media(min-width:900px){.grid{grid-template-columns:1.2fr 1fr}}
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  label{display:block;margin:6px 0;color:#111827}
  input[type="number"],select,textarea,.input{width:100%;padding:10px;border:1px solid #d1d5db;border-radius:10px}
  textarea{min-height:110px}
  button{background:var(--accent);color:#fff;border:0;padding:10px 14px;border-radius:12px;font-weight:700;cursor:pointer}
  button.secondary{background:#e5edff;color:#1d4ed8}
  button.link{background:transparent;color:var(--accent);padding:0}
  .result{border-radius:12px;padding:12px;margin-top:10px;font-size:14px}
  .green{background:#ecfdf5;border:1px solid #a7f3d0}
  .yellow{background:#fffbeb;border:1px solid #fde68a}
  .red{background:#fef2f2;border:1px solid #fecaca}
  .muted{color:var(--muted);font-size:14px}
  .chips{display:flex;gap:8px;flex-wrap:wrap}
  .chip{background:#f1f5f9;border:1px solid #e2e8f0;border-radius:999px;padding:6px 10px;font-size:12px}
  .chat{display:flex;flex-direction:column;gap:10px;height:360px;border:1px solid #e5e7eb;border-radius:12px;padding:12px;overflow:auto;background:#fbfdff}
  .msg{max-width:80%;padding:10px 12px;border-radius:12px}
  .me{background:#e6f0ff;align-self:flex-end}
  .bot{background:#fff;border:1px solid #eef2f7;align-self:flex-start}
  .chat-input{display:flex;gap:8px;margin-top:10px}
  .list{display:flex;flex-direction:column;gap:10px}
  .item{display:flex;gap:12px;align-items:center;border:1px solid #e5e7eb;background:#fff;border-radius:12px;padding:12px}
  .icon{width:42px;height:42px;border-radius:10px;display:grid;place-items:center;font-size:22px}
  .i1{background:#eef2ff}.i2{background:#ecfeff}.i3{background:#fff7ed}
  footer{padding:20px 16px;color:var(--muted);text-align:center}
  .right{margin-left:auto;color:#94a3b8;font-size:12px}
  .divider{height:1px;background:#e5e7eb;margin:10px 0}
  .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, monospace;background:#f3f4f6;border:1px solid #e5e7eb;border-radius:6px;padding:2px 6px;font-size:12px}
  .success{color:var(--good)}
  .danger{color:var(--bad)}
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="logo"><div class="dot"></div>HeartLink</div>
    <span class="badge">—à–∫–æ–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø</span>
    <span class="right kbd">–æ—Ñ–ª–∞–π–Ω ¬∑ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ —É –≤–∞—Å</span>
  </div>
</header>

<main>
  <div class="tabs">
    <div class="tab active" data-tab="checker">–ß–µ–∫–µ—Ä —Å–∏–º–ø—Ç–æ–º–æ–≤</div>
    <div class="tab" data-tab="chat">–°–æ–≤–µ—Ç–Ω–∏–∫ (AI‚Äë–¥–µ–º–æ)</div>
    <div class="tab" data-tab="log">–î–Ω–µ–≤–Ω–∏–∫</div>
    <div class="tab" data-tab="messages">–°–æ–æ–±—â–µ–Ω–∏—è</div>
    <div class="tab" data-tab="about">–û –ø—Ä–æ–µ–∫—Ç–µ</div>
  </div>

  <!-- –ß–µ–∫–µ—Ä -->
  <section id="checker" class="card">
    <h2>–ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è</h2>
    <p class="muted">–û—Ç–º–µ—Ç—å—Ç–µ, —á—Ç–æ —Å–µ–π—á–∞—Å –∞–∫—Ç—É–∞–ª—å–Ω–æ. –ú—ã –ø–æ–∫–∞–∂–µ–º —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏.</p>
    <div class="grid">
      <div class="card">
        <h3>–§–∞–∫—Ç–æ—Ä—ã</h3>
        <label><input type="checkbox" class="sym" value="noise"> –®—É–º–Ω–æ –≤–æ–∫—Ä—É–≥</label>
        <label><input type="checkbox" class="sym" value="light"> –Ø—Ä–∫–∏–π/–º–∏–≥–∞—é—â–∏–π —Å–≤–µ—Ç</label>
        <label><input type="checkbox" class="sym" value="touch"> –î–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç –æ—Ç –æ–¥–µ–∂–¥—ã/–ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏–π</label>
        <label><input type="checkbox" class="sym" value="routine"> –°–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏/–ø–µ—Ä–µ—Ö–æ–¥</label>
        <label><input type="checkbox" class="sym" value="sleepLow"> –ú–∞–ª–æ —Å–Ω–∞ (&lt; 7 —á)</label>
        <label><input type="checkbox" class="sym" value="hungry"> –ì–æ–ª–æ–¥/–∂–∞–∂–¥–∞</label>
        <label><input type="checkbox" class="sym" value="overwhelm"> –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ (–∑–∞–∫—Ä—ã–≤–∞–µ—Ç —É—à–∏, –±–µ–≥–∞–µ—Ç –∏ —Ç.–ø.)</label>
        <label><input type="checkbox" class="sym" value="pain"> –í–æ–∑–º–æ–∂–Ω–∞ –±–æ–ª—å (–≥–æ–ª–æ–≤–∞, –∂–∏–≤–æ—Ç)</label>
        <label>–°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞?
          <input type="number" id="minutes" min="0" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 15">
        </label>
        <div class="row">
          <button id="analyze">–ê–Ω–∞–ª–∏–∑</button>
          <button class="secondary" id="reset">–°–±—Ä–æ—Å</button>
        </div>
        <div id="res" class="result" style="display:none"></div>
        <div class="divider"></div>
        <p class="muted">–≠—Ç–æ —É—á–µ–±–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø, –Ω–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞. –ü—Ä–∏ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö ‚Äî –∑–≤–æ–Ω–∏—Ç–µ –≤ —Å–ª—É–∂–±—ã –ø–æ–º–æ—â–∏.</p>
      </div>
      <div class="card">
        <h3>–ß—Ç–æ —É—á–∏—Ç—ã–≤–∞–µ–º</h3>
        <ul class="muted">
          <li>–°–µ–Ω—Å–æ—Ä–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã (—à—É–º, —Å–≤–µ—Ç, –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è)</li>
          <li>–§–∏–∑–∏–æ–ª–æ–≥–∏—è (—Å–æ–Ω, –µ–¥–∞/–≤–æ–¥–∞, –±–æ–ª—å)</li>
          <li>–ü–µ—Ä–µ—Ö–æ–¥—ã –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä—É—Ç–∏–Ω—ã</li>
          <li>–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏</li>
        </ul>
        <p>–£—Ä–æ–≤–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:</p>
        <div class="chips">
          <span class="chip">üü¢ –ó–µ–ª–µ–Ω—ã–π ‚Äî –≤—Å—ë –æ–∫</span>
          <span class="chip">üü° –ñ–µ–ª—Ç—ã–π ‚Äî –Ω—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
          <span class="chip">üî¥ –ö—Ä–∞—Å–Ω—ã–π ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∫—Ä–∏–∑–∏—Å</span>
        </div>
      </div>
    </div>
  </section>

  <!-- –°–æ–≤–µ—Ç–Ω–∏–∫ -->
  <section id="chat" class="card" style="display:none">
    <h2>–°–æ–≤–µ—Ç–Ω–∏–∫ (–¥–µ–º–æ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)</h2>
    <div class="chat" id="chatBox">
      <div class="msg bot">–ü—Ä–∏–≤–µ—Ç! –†–∞—Å—Å–∫–∞–∂–∏, —á–µ–º –ø–æ–º–æ—á—å: –ø–µ—Ä–µ—Ö–æ–¥—ã, —Å–µ–Ω—Å–æ—Ä–∏–∫–∞, —à–∫–æ–ª–∞, —Å–æ–Ω, —Ç—Ä–µ–≤–æ–≥–∞, –±–æ–ª—å, –ø–∏—Ç–∞–Ω–∏–µ, –æ–±—â–µ–Ω–∏–µ‚Ä¶</div>
    </div>
    <div class="chat-input">
      <input id="chatInput" class="input" placeholder="–ù–∞–ø–∏—à–∏ –≤–æ–ø—Ä–æ—Å‚Ä¶">
      <button id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
    <p class="muted">–û—Ç–≤–µ—Ç—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞—Ö –∏ –ø—Ä–∞–≤–∏–ª–∞—Ö (–±–µ–∑ —Å–µ—Ç–∏). –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ò–ò –ø–æ–¥ –ø—Ä–∏—Å–º–æ—Ç—Ä–æ–º –≤–∑—Ä–æ—Å–ª—ã—Ö.</p>
  </section>

  <!-- –î–Ω–µ–≤–Ω–∏–∫ -->
  <section id="log" class="card" style="display:none">
    <h2>–î–Ω–µ–≤–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —Å–µ–Ω—Å–æ—Ä–∏–∫–∏</h2>
    <div class="row">
      <select id="moodSel">
        <option value="">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ‚Ä¶</option>
        <option>üòÄ –†–∞–¥–æ—Å—Ç—å</option>
        <option>üòê –ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
        <option>üòü –¢—Ä–µ–≤–æ–∂–Ω–æ</option>
        <option>üò≠ –ì—Ä—É—Å—Ç—å</option>
        <option>üò° –ó–ª–æ—Å—Ç—å</option>
      </select>
      <select id="sensSel">
        <option value="">–°–µ–Ω—Å–æ—Ä–Ω–∞—è —Ç–µ–º–∞‚Ä¶</option>
        <option>–®—É–º</option>
        <option>–°–≤–µ—Ç</option>
        <option>–ü—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è</option>
        <option>–ó–∞–ø–∞—Ö</option>
        <option>–ù–µ—Ç</option>
      </select>
      <button id="saveLog">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button class="secondary" id="exportBtn">–≠–∫—Å–ø–æ—Ä—Ç JSON</button>
      <input type="file" id="importFile" style="display:none" />
      <button class="secondary" id="importBtn">–ò–º–ø–æ—Ä—Ç</button>
    </div>
    <div id="logList" class="list" style="margin-top:12px"></div>
    <p class="muted">–ó–∞–ø–∏—Å–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (localStorage). –ú–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å/–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –≤—Ä–∞—á–∞ –∏–ª–∏ —É—á–∏—Ç–µ–ª—è.</p>
  </section>

  <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
  <section id="messages" class="card" style="display:none">
    <h2>–°–æ–æ–±—â–µ–Ω–∏—è</h2>
    <div id="msgList" class="list"></div>
  </section>

  <!-- –û –ø—Ä–æ–µ–∫—Ç–µ -->
  <section id="about" class="card" style="display:none">
    <h2>–û –ø—Ä–æ–µ–∫—Ç–µ</h2>
    <p><strong>HeartLink</strong> ‚Äî —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞—à–µ–π –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã. –ú—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –¥–µ—Ç—è–º —Å –∞—É—Ç–∏–∑–º–æ–º –∏ —Ä–æ–¥–∏—Ç–µ–ª—è–º –±—ã–ª–æ –ª–µ–≥—á–µ –≤ —à–∫–æ–ª–µ –∏ –¥–æ–º–∞.</p>
    <ul>
      <li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω, –¥–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.</li>
      <li>–≠—Ç–∏–∫–∞: —ç—Ç–æ –Ω–µ –∑–∞–º–µ–Ω–∞ –≤—Ä–∞—á–∞–º. –ú—ã –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º –±—ã—Ç–æ–≤—ã–µ —à–∞–≥–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.</li>
      <li>–ü–ª–∞–Ω—ã: –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è —à–∫–æ–ª—ã, –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, SOS‚Äë–∫–∞—Ä—Ç—É –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è.</li>
    </ul>
    <p class="muted">–í–µ—Ä—Å–∏—è 0.2 ¬∑ —Å–¥–µ–ª–∞–Ω–æ —Ä—É–∫–∞–º–∏ –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã üíô</p>
  </section>
</main>

<footer>
  HeartLink ¬∑ 2025 ¬∑ ¬´–°–¥–µ–ª–∞–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤¬ª
</footer>

<script>
  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
  document.querySelectorAll('.tab').forEach(tab=>{
    tab.addEventListener('click',()=>{
      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      tab.classList.add('active');
      const id = tab.dataset.tab;
      ['checker','chat','log','messages','about'].forEach(x=>{
        document.getElementById(x).style.display = (x===id)?'block':'none';
      });
    })
  });

  // –ß–µ–∫–µ—Ä
  const tips = {
    base: [
      "–î–∞–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–π—Ç–∏ –≤ —Ç–∏—Ö–∏–π —É–≥–æ–ª/–Ω–∞—É—à–Ω–∏–∫–∏.",
      "–ì–æ–≤–æ—Ä–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–æ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ: —á—Ç–æ —Å–µ–π—á–∞—Å –∏ —á—Ç–æ –¥–∞–ª—å—à–µ.",
      "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —á—É–≤—Å—Ç–≤–∞: ¬´–í–∏–∂—É, —á—Ç–æ —à—É–º–Ω–æ. –î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º —Ç–∏—à–µ¬ª.",
      "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –≤—ã–±–æ—Ä –∏–∑ –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤."
    ],
    noise: "–£–º–µ–Ω—å—à–∏—Ç–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å, –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ—Å—å, –¥–∞–π—Ç–µ –Ω–∞—É—à–Ω–∏–∫–∏/–±–µ—Ä—É—à–∏.",
    light: "–ü—Ä–∏–≥–ª—É—à–∏—Ç–µ —Å–≤–µ—Ç, –∏–∑–±–µ–≥–∞–π—Ç–µ –º–µ—Ä—Ü–∞–Ω–∏—è, –∫–æ–∑—ã—Ä—ë–∫/–æ—á–∫–∏.",
    touch: "–°–º–µ–Ω–∏—Ç–µ –∫–æ–ª—é—á—É—é –æ–¥–µ–∂–¥—É, –∏–∑–±–µ–≥–∞–π—Ç–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è.",
    routine: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É ¬´–°–µ–π—á–∞—Å ‚Üí –ü–æ—Ç–æ–º¬ª –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä.",
    sleepLow: "–°–Ω–∏–∑—å—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, —Å–¥–µ–ª–∞–π—Ç–µ –º–∏–Ω–∏‚Äë–ø–µ—Ä–µ—Ä—ã–≤, –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ—Å—å —Ä—É—Ç–∏–Ω—ã.",
    hungry: "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –ø–µ—Ä–µ–∫—É—Å –∏ –≤–æ–¥—É; –æ—Ç–ª–æ–∂–∏—Ç–µ –Ω–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–∞ 10‚Äì15 –º–∏–Ω.",
    overwhelm: "–£–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–µ —Å—Ç–∏–º—É–ª—ã, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ, –∑–∞–º–µ–¥–ª–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ (4‚Äì7‚Äì8).",
    pain: "–°–ø—Ä–æ—Å–∏—Ç–µ, –≥–¥–µ –±–æ–ª–∏—Ç (–ø–æ–∫–∞–∂–∏—Ç–µ –∫–∞—Ä—Ç–∏–Ω–∫—É‚Äë—Å–∏–ª—É—ç—Ç), –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –≤–æ–¥—É/–æ—Ç–¥—ã—Ö; –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–∏ ‚Äî –≤—Ä–∞—á."
  };
  function analyze(){
    const selected = [...document.querySelectorAll('.sym:checked')].map(i=>i.value);
    const minutes = parseInt(document.getElementById('minutes').value || '0', 10);
    let score = 0;
    const w = { noise:1, light:1, touch:1, routine:2, sleepLow:2, hungry:1, overwhelm:3, pain:3 };
    selected.forEach(s=>score += (w[s]||1));
    if (minutes>0 && minutes<=10) score += 2;
    if (minutes>10 && minutes<=20) score += 1;

    let level='green', title='üü¢ –ó–ï–õ–Å–ù–´–ô ¬∑ –≤—Å—ë –æ–∫';
    if (score>=6 && score<9){ level='yellow'; title='üü° –ñ–Å–õ–¢–´–ô ¬∑ –Ω—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞'; }
    if (score>=9){ level='red'; title='üî¥ –ö–†–ê–°–ù–´–ô ¬∑ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∫—Ä–∏–∑–∏—Å'; }

    const box = document.getElementById('res');
    box.className = 'result ' + level;
    let adv = tips.base.slice();
    selected.forEach(s=>adv.push(tips[s]));
    if (minutes>0) adv.push(`–í–∫–ª—é—á–∏—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä –Ω–∞ ${minutes} –º–∏–Ω.`);
    box.innerHTML = `<strong>${title}</strong><br>` + adv.map(a=>'‚Ä¢ '+a).join('<br>');
    box.style.display='block';
  }
  document.getElementById('analyze').addEventListener('click', analyze);
  document.getElementById('reset').addEventListener('click', ()=>{
    document.querySelectorAll('.sym').forEach(i=>i.checked=false);
    document.getElementById('minutes').value='';
    const box = document.getElementById('res'); box.style.display='none'; box.innerHTML='';
  });

  // –°–æ–≤–µ—Ç–Ω–∏–∫ (–ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º)
  const intents = [
    {k:['–ø–µ—Ä–µ—Ö–æ–¥','—Å–º–µ–Ω','transition','—Ç—Ä–∞–Ω–∑–∏—Ç','–ø–µ—Ä–µ—Ö–æ'], a:"–ü–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ 5 –º–∏–Ω—É—Ç, –∫–∞—Ä—Ç–æ—á–∫–∞ ¬´–°–µ–π—á–∞—Å‚Üí–ü–æ—Ç–æ–º¬ª, –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä –∏ –≤—ã–±–æ—Ä –∏–∑ 2 –æ–ø—Ü–∏–π."},
    {k:['–∫—Ä–∏–∑–∏—Å','meltdown','–∏—Å—Ç–µ—Ä'], a:"–£–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–º—É–ª—ã (—à—É–º/—Å–≤–µ—Ç), –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —É–≥–æ–ª, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —á—É–≤—Å—Ç–≤–∞, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –≥–ª—É–±–æ–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—Ä–∞–≤–∏—Ç—Å—è), –Ω–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è ‚Äî –ø–æ–∑–∂–µ."},
    {k:['—Å–æ–Ω','–Ω–æ—á—å'], a:"–†–µ–∂–∏–º: –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –≤—Ä–µ–º—è —Å–Ω–∞, –ø—Ä–∏–≥–ª—É—à—ë–Ω–Ω—ã–π —Å–≤–µ—Ç –∑–∞ —á–∞—Å –¥–æ —Å–Ω–∞, –±–µ–ª—ã–π —à—É–º, —Ç—è–∂—ë–ª–æ–µ/—É—Ç—è–∂–µ–ª—ë–Ω–Ω–æ–µ –æ–¥–µ—è–ª–æ –ø–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º."},
    {k:['—à–∫–æ–ª','–∫–ª–∞—Å—Å','—É—á–∏—Ç–µ–ª'], a:"–ü–ª–∞–Ω –¥–ª—è —à–∫–æ–ª—ã: ¬´—Ç–∏—Ö–∏–π –ø—Ä–æ–ø—É—Å–∫¬ª –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø–µ—Ä–µ—Ä—ã–≤—ã, –º–µ—Å—Ç–æ –ø–æ–¥–∞–ª—å—à–µ –æ—Ç —à—É–º–∞, –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –ø–æ–º–æ—â–Ω–∏–∫‚Äë–ø–∞—Ä—Ç–Ω—ë—Ä."},
    {k:['—Å–µ–Ω—Å–æ—Ä','—à—É–º','—Å–≤–µ—Ç','—Ç–∞–∫—Ç–∏–ª'], a:"–ù–∞–±–æ—Ä —Å–µ–Ω—Å–æ—Ä–Ω–æ–π –ø–æ–º–æ—â–∏: –Ω–∞—É—à–Ω–∏–∫–∏, –∫–æ–∑—ã—Ä—ë–∫/–æ—á–∫–∏, —Ñ–∏–¥–∂–µ—Ç, –∂–µ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∞–∫—Å–µ—Å—Å—É–∞—Ä, —É—Ç—è–∂–µ–ª—ë–Ω–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç. –ü–µ—Ä–µ—Ä—ã–≤—ã 5 –º–∏–Ω –∫–∞–∂–¥—ã–µ 30‚Äì45 –º–∏–Ω."},
    {k:['–æ–±—â–µ–Ω','—Ä–µ—á—å','–≥–æ–≤–æ—Ä'], a:"–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è: –∫–æ—Ä–æ—Ç–∫–∏–µ —Ñ—Ä–∞–∑—ã, –∂–µ—Å—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∫–∏, —É–≤–∞–∂–µ–Ω–∏–µ –Ω–µ–≤–µ—Ä–±–∞–ª—å–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)."},
    {k:['–µ–¥–∞','–¥–∏–µ—Ç','–≥–æ–ª–æ–¥'], a:"–ü–∏—Ç–∞–Ω–∏–µ: –ª—é–±–∏–º—ã–µ ¬´–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ¬ª –ø—Ä–æ–¥—É–∫—Ç—ã –ø–æ–¥ —Ä—É–∫–æ–π, –Ω–æ–≤–æ–µ ‚Äî —Ä—è–¥–æ–º —Å –ø—Ä–∏–≤—ã—á–Ω—ã–º, –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è —Å—Ç—Ä–µ—Å—Å–∞."},
    {k:['–±–æ–ª—å','–±–æ–ª–∏—Ç','–≥–æ–ª–æ–≤–∞','–∂–∏–≤–æ—Ç'], a:"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ–ª—å (–∫–∞—Ä—Ç–∞ —Ç–µ–ª–∞), –≤–æ–¥–∞/–æ—Ç–¥—ã—Ö; –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–∏/—Å–∏–ª–µ ‚Äî –∫ –≤—Ä–∞—á—É."},
    {k:['—Ç—Ä–µ–≤–æ–≥','stress','—Å—Ç—Ä–µ—Å—Å'], a:"–®–∞–≥–∏ –ø—Ä–∏ —Ç—Ä–µ–≤–æ–≥–µ: –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä, —Å–Ω–∏–∑–∏—Ç—å —Å—Ç–∏–º—É–ª—ã, –¥—ã—Ö–∞–Ω–∏–µ 4‚Äì7‚Äì8, ¬´–∑–∞–∑–µ–º–ª–µ–Ω–∏–µ¬ª 5‚Äë4‚Äë3‚Äë2‚Äë1 –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥."},
  ];
  function botSay(t){ const n=document.createElement('div'); n.className='msg bot'; n.textContent=t; chatBox.appendChild(n); chatBox.scrollTop=1e9;}
  function meSay(t){ const n=document.createElement('div'); n.className='msg me'; n.textContent=t; chatBox.appendChild(n); chatBox.scrollTop=1e9;}
  const chatBox=document.getElementById('chatBox');
  document.getElementById('sendBtn').addEventListener('click',()=>{
    const i=document.getElementById('chatInput'); const q=i.value.trim(); if(!q) return; i.value=''; meSay(q);
    const qq=q.toLowerCase();
    let ans="–ü–æ–∫–∞ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã. –°–ø—Ä–æ—Å–∏ –ø—Ä–æ: –ø–µ—Ä–µ—Ö–æ–¥—ã, –∫—Ä–∏–∑–∏—Å, —Å–µ–Ω—Å–æ—Ä–∏–∫—É, —à–∫–æ–ª—É, —Å–æ–Ω, —Ç—Ä–µ–≤–æ–≥—É, –±–æ–ª—å, –ø–∏—Ç–∞–Ω–∏–µ, –æ–±—â–µ–Ω–∏–µ.";
    for(const it of intents){ if(it.k.some(k=>qq.includes(k))){ ans=it.a; break; } }
    botSay(ans);
  });

  // –î–Ω–µ–≤–Ω–∏–∫
  function renderLog(){
    const host=document.getElementById('logList'); host.innerHTML='';
    const logs=JSON.parse(localStorage.getItem('hlLogs')||'[]');
    logs.forEach(it=>{
      const div=document.createElement('div'); div.className='item';
      div.innerHTML=`<div class="icon i2">${(it.mood||'üôÇ').split(' ')[0]}</div>
        <div><div><strong>${it.mood||'‚Äî'}</strong></div>
        <div class="muted">–°–µ–Ω—Å–æ—Ä–∏–∫–∞: ${it.sens||'‚Äî'}</div></div>
        <div class="right">${new Date(it.ts).toLocaleString()}</div>`;
      host.appendChild(div);
    });
  }
  document.getElementById('saveLog').addEventListener('click',()=>{
    const mood=document.getElementById('moodSel').value;
    const sens=document.getElementById('sensSel').value;
    if(!mood){ alert('–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ'); return; }
    const logs=JSON.parse(localStorage.getItem('hlLogs')||'[]');
    logs.unshift({mood,sens,ts:Date.now()});
    localStorage.setItem('hlLogs',JSON.stringify(logs)); renderLog();
  });
  // —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç
  document.getElementById('exportBtn').addEventListener('click',()=>{
    const data=localStorage.getItem('hlLogs')||'[]';
    const blob=new Blob([data],{type:'application/json'});
    const url=URL.createObjectURL(blob); const a=document.createElement('a');
    a.href=url; a.download='heartlink_logs.json'; a.click(); URL.revokeObjectURL(url);
  });
  document.getElementById('importBtn').addEventListener('click',()=>document.getElementById('importFile').click());
  document.getElementById('importFile').addEventListener('change',e=>{
    const file=e.target.files[0]; if(!file) return;
    const r=new FileReader(); r.onload=()=>{ try{ localStorage.setItem('hlLogs', r.result); renderLog(); alert('–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ'); }catch(err){ alert('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞'); } }; r.readAsText(file);
  });
  renderLog();

  // –°–æ–æ–±—â–µ–Ω–∏—è
  const sample=[
    {icon:'‚è∞',title:'–°–∫–æ—Ä–æ –ø–µ—Ä–µ—Ö–æ–¥',text:'–ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –∑–∞ 5 –º–∏–Ω—É—Ç –∏ –≤–∫–ª—é—á–∏—Ç–µ —Ç–∞–π–º–µ—Ä.',time:'1 –º–∏–Ω –Ω–∞–∑–∞–¥',cls:'i1'},
    {icon:'üéß',title:'–®—É–º–Ω–æ?',text:'–ù–∞—É—à–Ω–∏–∫–∏ + –∫–æ—Ä–æ—Ç–∫–∏–π —Å–µ–Ω—Å–æ—Ä–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤ –ø–æ–º–æ–≥—É—Ç.',time:'–°–µ–≥–æ–¥–Ω—è',cls:'i3'},
    {icon:'üåô',title:'–ü–ª–∞–Ω –∫–æ —Å–Ω—É',text:'–¢–∏—Ö–∞—è —Ä—É—Ç–∏–Ω–∞ –∏ –ø—Ä–∏–≥–ª—É—à—ë–Ω–Ω—ã–π —Å–≤–µ—Ç –∑–∞ 1 —á.',time:'–í—á–µ—Ä–∞',cls:'i2'}
  ];
  function renderMsgs(){
    const host=document.getElementById('msgList'); host.innerHTML='';
    sample.forEach(m=>{ const n=document.createElement('div'); n.className='item';
      n.innerHTML=`<div class="icon ${m.cls}">${m.icon}</div>
        <div><div><strong>${m.title}</strong></div><div class="muted">${m.text}</div></div>
        <div class="right">${m.time}</div>`; host.appendChild(n);
    });
  }
  renderMsgs();
</script>
</body>
</html>